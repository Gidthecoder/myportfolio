<html>
  <body>
     <section>
	    <script>
			let data = [{name:'james', sales:300}, {name:'john', sales:1000}];
			
			function total(array){
				let a = 0;
				for(let i=0; i<array.length; i++){
					a += array[i].sales
				}
				return a
			}
			console.log( total( data ) )
			
			function min(array){
				let a = []
				let b;
				for(let i=0; i<array.length; i++){
					a.push( Number(array[i].sales) )
				}
				b = Math.min(...a)
				return b;
			}
			console.log( min( data ) )
			
			function max(array){
				let a = []
				let b;
				for(let i=0; i<array.length; i++){
					a.push( Number(array[i].sales) )
				}
				b = Math.max(...a)
				return b
			}
			console.log( max( data ) )
			
			function mean(array){
				let a = []
				let b = 0;
				let c;
				for(let i=0; i<array.length; i++){
					a.push( Number(array[i].sales) )
				}
				for(let i=0; i<a.length; i++){ b += Number(a[i]) } 
				c = b/a.length
				return c
			}
			console.log( mean( data ) ) 
			
			function freq(array){
				let freq = {}
				for(let i=0; i<array.length; i++){
					if(freq[array[i].sales]){
						freq[array[i].sales]++
					} else {
						freq[array[i].sales] = 1
					}
				}
				return freq
			}
			console.log( freq( data ) )
			
			
			
			function relativefreq(array, total){
				let freq = {}
				for(let i=0; i<array.length; i++){
					freq[array[i].sales] = Number(array[i].sales)/Number(total)
				}
				return freq
			}
			console.log( relativefreq( data, 1300 ) )
			
			function SD(array){
				let mean = mean(array)
				let d = []
				for(let i=0; i<array.length; i++){
					d.push(array[i].sales)
				}
				let a = Math.sqrt( d.map(x => Math.pow(x - mean, 2) ).reduce( (a, b) => a + b)/ d.length )
				return a
			}
			console.log( SD(data) )
			
			function median(array){
				let arr = []
				for(let i=0; i<array.length; i++){
					arr.push(array[i].sales )
				}
				arr.sort(function(a, b){
					return a - b;
				})
				let mid = arr.length / 2;
				let median = ( mid%1 ? arr[mid - 0.5]: (arr[mid - 1] + arr[mid]) )/2
				return median;
			}
			console.log( median(data) )
			
			function mode(arr){
				if(!arr.length) {return [];}
				let array = []
				for(let i=0; i<arr.length; i++){
					array.push(arr[i].sales)
				}
				
				let modeMap = {}
				let maxCount = 1;
				let modes = [ ]
				
				
				array.forEach(function(val){
					if(!modeMap[val]){
						modeMap[val] = 1
					} else {
						modeMap[val]++
					}
					
					if(modeMap[val] > maxCount){
						modes = [val]
						maxCount = modeMap[val]
					} else if (modeMap[val] == maxCount){
						modes.push(val)
						maxCount = modeMap[val];
					}
				})
				return modes;
			}
			console.log( mode(data) ) 
			
			function percentile(arr, q){
				let array = []
				for(let i=0; i<arr.length; i++){
					array.push(arr[i].sales)
				}
				array.sort(function(a, b){
					return a - b;
				})
				let pos = ( array.length - 1 )* q;
				let base = Math.floor(pos);
				let rest = pos - base;
				if(array[base + 1] !== undefined){
					return array[base] + rest * (array[base + 1] - array[base])
				} else {
					return array[base];
				}
			}
			console.log( percentile(data, .50) )
			
			
			function IQR(array){
				return percentile(array, .75) - percentile(array, .25)
			}
			console.log( IQR(data) )
			
			function singlefilter(array, sign, field, value){
				let filtered = []
				if( sign == '==' ){
					let filter = array.filter(item => {return item[field] == value})
					return filter
				} else if ( sign == '<=' ){
					let filter = array.filter(item => {return item[field] <= value})
					return filter
				} else if ( sign == '>=' ){
					let filter = array.filter(item => {return item[field] >= value})
					return filter
				
				} else if ( sign == '<' ){
					let filter = array.filter(item => {return item[field] < value})
					return filter
				
				} else if ( sign == '>' ){
					let filter = array.filter(item => {return item[field] > value})
					return filter
				}
			}
			
			function multifilter(array, sign1, field1, value1, sign2, field2, value2){
				if( sign1 == '==' ){
					if( sign2 == '==' ){
						let filter = array.filter(item => {return item[field1] == value1 && item[field2] == value2})
						return filter
					} else if ( sign2 == '<=' ){
						let filter = array.filter(item => {return item[field1] == value1 && item[field2] <= value2})
						return filter
					} else if ( sign2 == '>=' ){
						let filter = array.filter(item => {return item[field1] == value1 && item[field2] >= value2})
						return filter
				
					} else if ( sign2 == '<' ){
						let filter = array.filter(item => {return item[field1] == value1 && item[field2] < value2})
						return filter
				
					} else if ( sign2 == '>' ){
						let filter = array.filter(item => {return item[field1] == value1 && item[field2] > value2})
						return filter
					}
				} else if ( sign1 == '<=' ){
					if( sign2 == '==' ){
						let filter = array.filter(item => {return item[field1] <= value1 && item[field2] == value2})
						return filter
					} else if ( sign2 == '<=' ){
						let filter = array.filter(item => {return item[field1] <= value1 && item[field2] <= value2})
						return filter
					} else if ( sign2 == '>=' ){
						let filter = array.filter(item => {return item[field1] <= value1 && item[field2] >= value2})
						return filter
				
					} else if ( sign2 == '<' ){
						let filter = array.filter(item => {return item[field1] <= value1 && item[field2] < value2})
						return filter
				
					} else if ( sign2 == '>' ){
						let filter = array.filter(item => {return item[field1] <= value1 && item[field2] > value2})
						return filter
					}
				} else if ( sign1 == '>=' ){
					if( sign2 == '==' ){
						let filter = array.filter(item => {return item[field1] >= value1 && item[field2] == value2})
						return filter
					} else if ( sign2 == '<=' ){
						let filter = array.filter(item => {return item[field1] >= value1 && item[field2] <= value2})
						return filter
					} else if ( sign2 == '>=' ){
						let filter = array.filter(item => {return item[field1] >= value1 && item[field2] >= value2})
						return filter
				
					} else if ( sign2 == '<' ){
						let filter = array.filter(item => {return item[field1] >= value1 && item[field2] < value2})
						return filter
				
					} else if ( sign2 == '>' ){
						let filter = array.filter(item => {return item[field1] >= value1 && item[field2] > value2})
						return filter
					}
				
				} else if ( sign1 == '<' ){
					if( sign2 == '==' ){
						let filter = array.filter(item => {return item[field1] < value1 && item[field2] == value2})
						return filter
					} else if ( sign2 == '<=' ){
						let filter = array.filter(item => {return item[field1] < value1 && item[field2] <= value2})
						return filter
					} else if ( sign2 == '>=' ){
						let filter = array.filter(item => {return item[field1] < value1 && item[field2] >= value2})
						return filter
				
					} else if ( sign2 == '<' ){
						let filter = array.filter(item => {return item[field1] < value1 && item[field2] < value2})
						return filter
				
					} else if ( sign2 == '>' ){
						let filter = array.filter(item => {return item[field1] < value1 && item[field2] > value2})
						return filter
					}
				
				} else if ( sign1 == '>' ){
					if( sign2 == '==' ){
						let filter = array.filter(item => {return item[field1] > value1 && item[field2] == value2})
						return filter
					} else if ( sign2 == '<=' ){
						let filter = array.filter(item => {return item[field1] > value1 && item[field2] <= value2})
						return filter
					} else if ( sign2 == '>=' ){
						let filter = array.filter(item => {return item[field1] > value1 && item[field2] >= value2})
						return filter
				
					} else if ( sign2 == '<' ){
						let filter = array.filter(item => {return item[field1] > value1 && item[field2] < value2})
						return filter
				
					} else if ( sign2 == '>' ){
						let filter = array.filter(item => {return item[field1] > value1 && item[field2] > value2})
						return filter
					}
				}
			}
			
			function benchmark(array, filtered, stats){
				let stat = 'total:total';
				let accepted = ['total','mean','min','max','freq','relativefreq','median','mode','SD','percentile','quartile','IQR'];
				let obj = {};
				
				//how a value perform with respect to filtered value: year
				if(!array || !filtered || !stats){
					return "Your Data Isn't Complete"
				}
				
				if(stats == 'total'){
					obj = {array: total(array), filtered: total(filtered)}
					return obj
				} else if (stats == 'mean'){
					obj = {array: mean(array), filtered: mean(filtered)}
					return obj
				} else if (stats == 'median'){
					obj = {array: median(array), filtered: median(filtered)}
					return obj
				} else if(stats == 'mode'){
					obj = {array: mode(array), filtered: mode(filtered)}
					return obj
				} else if (stats == 'min'){
					obj = {array: min(array), filtered: min(filtered)}
					return obj
				} else if (stats == 'max'){
					obj = {array: max(array), filtered: max(filtered)}
					return obj
				} else if (stats == 'freq'){
					obj = {array: freq(array), filtered: freq(filtered)}
					return obj
				} else if (stats == 'relativefreq'){
					obj = {array: relativefreq(array), filtered: relativefreq(filtered)}
					return obj
				} else if(stats == 'SD'){
					obj = {array: SD(array), filtered: SD(filtered)}
					return obj
				} else if (stats == 'IQR'){
					obj = {array: IQR(array), filtered: IQR(filtered)}
					return obj
				}
			}
			
		</script>
	   
	 </section>
	 
     <div>
       <b class='prods'>static css animation: hospital->heartbeat</b>
	  
     </div>
	 <h2>'Static(css animation,others(svg,canvas,webgl))'</h2>
     <div style='background-color: rgb(245,245,245);margin:20px;padding:10px;border-radius:7px;'>
       <ul>
         <li>'Hospital(Heart Beats)'</li>
         <li>'Mechanic (Drilling)'</li>
         <li>'Modelling (flashes)'</li>
	   </ul>
	 </div>
     <h2>'Event-Driven(css animation,others(svg,canvas,webgl))'</h2>
     <div style='background-color: rgb(245,245,245);margin:20px;padding:10px;border-radius:7px;'>
       <ul>
         <li>'Clicks(spin,cuberoll,inspo,related,sunshine,lightning,rain,bubbles,moving/bouncing,terraform,blink,push)</li>
         <li>Hover (Font change,inspo,related)</li>
	   </ul>
	 </div>
  </body>
  <style>
     b.prods {animation: heart 1s linear infinite;display:inline-block;padding:10px;margin;10px;margin-left:40%;color:white;background-color:red;box-shadow:0px 0px 5px red;}
	 
	 @keyframes heart {
	    0% {
		  transform: translate(0px, 0px) scale(1);
	    }
		30% {
		  transform: translate(10px, -17px) scale(1.2);
		}
	    60% {
		  transform: translate(0px, 0px) scale(1);
		  
	    }
    }
	
  </style>
  <div class='vbarchart' style='display:inline-block'>
  </div>
  <div class='hbarchart' style='display:inline-block'>
  </div>
  <div class='piechart' style='display:inline-block'>
  </div>
  <div class='linechart' style='display:inline-block;overflow:Scroll;width:500px;'>
  </div>
  <div class='multichart' style='display:inline-block;overflow:scroll;width:500px;white-space:nowrap;'>
    
  </div>
  <div class='linebarchart' style='display:inline-block'></div>
  <div class='animechart' style='display:inline-block;overflow:Scroll;width:500px;'> </div>
  <script src='svgcanvas.js'></script>
  <script>
    
	 let a = new Svg()
	 a.v3barchart({name: {age:1000, year:2002, fam: 6000, bb: 990}, game: {sea: 200} }, document.querySelector('.multichart'), 400 )
	 a.vbarchart({name: 200, age:1000, year:2002, fam: 6000, bb: 990}, document.querySelector('.animechart'), 400 )
	 a.linechart({name: 200, age:1000, year:2002, fam: 6000, bb: 990}, document.querySelector('.linechart'), 400 )
  </script>
  <script src='public/javascripts/d3/dist/d3.min.js'></script>
  <script>
    
    
	  //horizontal barchart	 
	let hbarchartdata = [1360, 6200, 3380, 4000, 8000];
	let hbarchart = d3.select('div.hbarchart')
	   .append('svg')
	   .attr('width', 500)
	   .attr('height', 100 * hbarchartdata.length)
	
	hbarchart.append('rect')
	  .attr('x', 0)
	  .attr('y', 0)
	  .attr('width', 500)
	  .attr('height', 500)
	  .attr('stroke', 'blue')
	  .attr('fill', 'pink')
	
	let hbar = hbarchart.selectAll('g')
	  .data(hbarchartdata)
	  .enter()
	  .append('g')
	  .attr('transform', function(d, i){
	    return 'translate(0,' + 100 * i + ')'
	  })
	  
	hbar.append('rect')
	  .attr('width', function(d, i){
	    return  500 * (d/Math.max(...hbarchartdata))
	  })
	  .attr('height', function(d, i){
	    return 80
	  })
	  
	  .attr('fill', 'green')
	
	hbar.append('text')
	  .attr('x', function(d, i){
	    return 30
	  })
	  .attr('y', function(d, i){
	    return  30;
	  })
	  .text(function(d){ return d;})
	  
	  
	
	//piechart
	let piechartdata = [28, 97, 67, 126, 310, 210, 189];
	let piechart = d3.select('div.piechart')
	   .append('svg')
	   .attr('width', 500)
	   .attr('height', 500)
	piechart.append('rect')
	  .attr('x', 0)
	  .attr('y', 0)
	  .attr('width', 500)
	  .attr('height', 500)
	  .attr('stroke', 'green')
	  .attr('fill', 'violet')
	 
	let piec =  piechart.append('g').attr('transform', 'translate('  + 500/2 + ',' + 500/2 + ')')
	let color = ['yellow', 'pink', '#4daf4a', 'red', 'blue', 'orange', 'khaki']
	let pie = d3.pie()
	let arc = d3.arc()
	            .innerRadius(0)
				.outerRadius(500/2)
	let arclabel = d3.arc()
	            .innerRadius((500/2) - 80)
				.outerRadius(500/2)
	let arcs = piec.selectAll('.arc')
				.data(pie(piechartdata))
				.enter()
				.append('g')
				.attr('class', 'arc')
				
	arcs.append('path')
			.attr('fill', function(d, i){return color[i]})
			.attr('d', arc)
			
	arcs.append('text')
			.attr('transform', function(d, i){return 'translate(' + arclabel.centroid(d) + ')'})
			.text(function(d) { return d.data})		
	piechart.append('g')
	  .attr('transform', 'translate(10, 20)' )
	  .append('text')
	  .text('browser statistics')
	  
	  function ske(data) {
	     let max = Math.max(...data)
		 let maxstring = String(max)
		 if(maxstring.length == 1){
			let b = Math.floor(max/1) + 1
			console.log(`interval 1 at ${b} times`)
		 } else if (maxstring.length == 2) {
			let b = Math.floor(max/10) + 1
			console.log(`interval 10 at ${b} times`)
		 } else if (maxstring.length == 3) {
			let b = Math.floor(max/100) + 1
			console.log(`interval 100 at ${b} times`)
		 } else if (maxstring.length == 4) {
			let b = Math.floor(max/1000) + 1
			console.log(`interval 1000 at ${b} times`)
		 }
	  }
  </script>
  <script>
    //OOP paradigm -- encapsulation, abstraction,inheritance, polymorphism
	class Person {
	  constructor(name, age){
	    this.name = name
		this.age = age
	  }
	  //statics
	  static friend = 'paul'
	  static friendAge(){
	    return 30
	  }
	  //getter
	  get tenYears(){
	  let f = 5;
	    return this.totalYear() * 5
	  }
	  //method 
	  totalYear(){
	    return this.age * 10
	  }
	}
	let p = new Person('james', 20)
	console.log(p.tenYears)
	console.log(p.totalYear() )
	console.log(Person.friend)
	console.log(Person.friendAge())
	//inheriting
	class Animal extends Person {
	  constructor(name, age){
	    super(name, age)
	  }
	  animalAge(){
	    return this.tenYears
	  }
	}
	let aa = new Animal('phillip', 20)
	console.log(aa.animalAge())
	
	//functional programming-- immutable, noloops only higherorder like map,filter,reduce,recursion higher order function, no conditionals instead use ternary,switch 
	function functional(a, b){
	const ab = a
	  return a*b
	}
	//procedural-- uses statements and function
  </script>
</html>